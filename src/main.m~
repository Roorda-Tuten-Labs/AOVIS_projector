%%% unique white
import stim.uniqueHues
import fil.save_to_file
import gen.gen_hue_order
import gen.gen_pa

%%% save info about annulus and fixation eccentricity.
%%% do not exit in between trials.
%%% flash stimuli instead of pausing.

subject = input('Subject name [default = sample]', 's');
if isempty(subject)
    subject = 'sample';
end

annulus = 0;

% Initializes the program's parameters.
params = gen_params(uniqueHue, show_plot, blu, yel, ANNULUS, subject);

% ---- make sure directories exist for saving data
if ~exist('data', 'dir')
    mkdir('data/')
end
if ~exist(['data/' subject], 'dir')
    mkdir(['data/' subject])
end

% ---- Randomize the order of blue, yellow settings.
[first, second] = gen_hue_order();

params.uniqueHue = first;
[data_record, blu_angle, blu] = uniqueHues(params);
save_to_file(data_record, subject, first);

params.uniqueHue = second;
[data_record, yel_angle, yel] = uniqueHues(params);
save_to_file(data_record, subject, second);

params.blu = blu;
params.yel = yel;
params.uniqueHue = 'white';
[data_record, ~, xyz] = uniqueHues(params);
save_to_file(data_record, subject, 'white');
disp(xyz);

